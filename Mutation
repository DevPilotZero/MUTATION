-- Grow a Garden | Pet Mutation GUI (Delta Compatible)
-- Made by ChatGPT - Fully Mobile Friendly

-- Load Kavo UI (Mobile Friendly)
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Grow A Garden | Mutation Hub", "DarkTheme")

-- Variables
local selectedPet = nil
local selectedMutation = nil
local petData = {}

-- Function to Get Player's Pets
local function GetPets()
    petData = {}
    local player = game.Players.LocalPlayer
    local petsFolder = player:FindFirstChild("Pets") or player:WaitForChild("Pets")
    for _, pet in pairs(petsFolder:GetChildren()) do
        table.insert(petData, pet.Name)
    end
end
GetPets()

-- Mutation List with Passives
local mutationData = {
    Shiny = "Boosts all stats slightly (+15%).",
    Inverted = "Flips visuals; minor stat change.",
    Frozen = "Adds freeze effect; slows enemies.",
    Windy = "Boosts speed/agility.",
    Golden = "Boosts value and luck (+30%).",
    Mega = "Massive stats boost; increases size.",
    Tiny = "Shrinks size; boosts speed & luck.",
    IronSkin = "Boosts defense and durability.",
    Radiant = "Balanced boost; glowing effect.",
    Rainbow = "Rare: boosts all stats.",
    Shocked = "Electric aura; boosts attack.",
    Ascended = "Ultimate boost (+100%); rare."
}

local mutationTypes = {}
for k,_ in pairs(mutationData) do table.insert(mutationTypes, k) end

-- GUI Tabs
local Tab = Window:NewTab("Mutations")
local Section = Tab:NewSection("Pet Mutation")

-- Dropdown for Pets
Section:NewDropdown("Select Pet", "Choose your pet", petData, function(v)
    selectedPet = v
end)

-- Dropdown for Mutation
Section:NewDropdown("Select Mutation", "Choose mutation type", mutationTypes, function(v)
    selectedMutation = v
    Library:Notify(v.." Passive: "..mutationData[v], 5)
end)

-- Apply Button
Section:NewButton("Apply Mutation", "Apply selected mutation", function()
    if selectedPet and selectedMutation then
        -- âœ… Replace with actual RemoteEvent name from RemoteSpy
        local remote = game:GetService("ReplicatedStorage"):FindFirstChild("MutatePet")
        if remote then
            local args = {
                [1] = selectedPet,
                [2] = selectedMutation
            }
            remote:FireServer(unpack(args))
            Library:Notify("Applied "..selectedMutation.." to "..selectedPet, 4)
        else
            Library:Notify("RemoteEvent not found! Update script.", 4)
        end
    else
        Library:Notify("Select a pet and mutation first!", 4)
    end
end)

-- Refresh Button for New Pets
Section:NewButton("Refresh Pet List", "Updates pet list", function()
    GetPets()
    Library:Notify("Pet list refreshed!", 3)
end)
